function showEnd(e){e.length&&e.scrollTop(e[0].scrollHeight-e.height())}$("#loading").css("display","none"),$("main").css("display","block"),$("#build").toggle(),shortcut={all_shortcuts:{},add:function(e,t,o){var n={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(o)for(var r in n)void 0===o[r]&&(o[r]=n[r]);else o=n;var a=o.target;"string"==typeof o.target&&(a=document.getElementById(o.target)),e=e.toLowerCase();var d=function(n){var r;if(n=n||window.event,!o.disable_in_input||(n.target?r=n.target:n.srcElement&&(r=n.srcElement),3==r.nodeType&&(r=r.parentNode),"INPUT"!=r.tagName&&"TEXTAREA"!=r.tagName)){n.keyCode?code=n.keyCode:n.which&&(code=n.which);var a=String.fromCharCode(code).toLowerCase();188==code&&(a=","),190==code&&(a=".");var d=e.split("+"),s=0,i={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},l={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},c={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};n.ctrlKey&&(c.ctrl.pressed=!0),n.shiftKey&&(c.shift.pressed=!0),n.altKey&&(c.alt.pressed=!0),n.metaKey&&(c.meta.pressed=!0);for(var u=0;k=d[u],u<d.length;u++)"ctrl"==k||"control"==k?(s++,c.ctrl.wanted=!0):"shift"==k?(s++,c.shift.wanted=!0):"alt"==k?(s++,c.alt.wanted=!0):"meta"==k?(s++,c.meta.wanted=!0):1<k.length?l[k]==code&&s++:o.keycode?o.keycode==code&&s++:a==k?s++:i[a]&&n.shiftKey&&(a=i[a])==k&&s++;return s!=d.length||c.ctrl.pressed!=c.ctrl.wanted||c.shift.pressed!=c.shift.wanted||c.alt.pressed!=c.alt.wanted||c.meta.pressed!=c.meta.wanted||(t(n),o.propagate)?void 0:(n.cancelBubble=!0,n.returnValue=!1,n.stopPropagation&&(n.stopPropagation(),n.preventDefault()),!1)}};this.all_shortcuts[e]={callback:d,target:a,event:o.type},a.addEventListener?a.addEventListener(o.type,d,!1):a.attachEvent?a.attachEvent("on"+o.type,d):a["on"+o.type]=d},remove:function(e){e=e.toLowerCase();var t=this.all_shortcuts[e];if(delete this.all_shortcuts[e],t){var o=t.event,n=t.target,r=t.callback;n.detachEvent?n.detachEvent("on"+o,r):n.removeEventListener?n.removeEventListener(o,r,!1):n["on"+o]=!1}}},CodeMirror.modeURL="/editor/assets/codemirror/mode/%N/%N.js";var editor=CodeMirror.fromTextArea(document.getElementById("code"),{lineNumbers:!0,theme:"eclipse",autoCloseBrackets:!0,viewportMargin:1/0,extraKeys:{"Ctrl-F":"findPersistent",F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}});editor.setSize(null,"100%");var modeInput=document.getElementById("mode");CodeMirror.on(modeInput,"keypress",function(e){13==e.keyCode&&change()}),$(document).ready(function(){function e(e,t){return e.substr(e.length-t)}function t(){var e=$(".CodeMirror")[0].CodeMirror;$(e.getWrapperElement()).hide(),$("#run").attr("disabled",!0),$("#change").attr("disabled",!0),$("#code-load").css("display","block"),$("#input").attr("disabled",!0),$("#run").html('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span><span class="sr-only">Loading...</span>'),setTimeout(function(){$("#run").html('<i class="fas fa-play"></i>'),$("#run").attr("disabled",!1),$("#change").attr("disabled",!1),$("#code-load").css("display","none"),$("#input").attr("disabled",!1),$(e.getWrapperElement()).show()},3e3)}function o(){var t,o=editor.getValue(),n=$("#input").val(),r=$("#mode").val();$.post(".cpp"==e(t=r,"4")?"/runCpp.php":".java"==e(t,"5")?"/runJavac.php":".py"==e(t,"3")?"/runPython.php":".11.cpp"==e(t,"7")?"/runC11.php":".c"==e(t,"2")?"/runC.php":(alert("Please change file extension to correct one. "+t+" is invalid."),!1),{code:o,input:n},function(e){$("#output").append(e.result.output+"\n"),null!=e.result.error&&($("#error").append('\n\t\t\t\t\t\t<div class="alert alert-danger alert-dismissible fade show w-100" role="alert">\n  \t\t\t\t\t\t<strong>Error :</strong> '+e.result.error+'\n  \t\t\t\t\t\t\t<button type="button" class="close" data-dismiss="alert" aria-label="Close">\n    \t\t\t\t\t\t\t<span aria-hidden="true">&times;</span>\n  \t\t\t\t\t\t\t</button></div>'),setTimeout(function(){$(".alert").alert("close"),$("#build").toggle()},4e3))})}function n(){$("#build").is(":hidden")&&$("#build").toggle()}function r(e,t){var o,n=modeInput.value;if(o=/.+\.([^.]+)$/.exec(n))(r=CodeMirror.findModeByExtension(o[1]))&&(r.mode,r.mime);else if(/\//.test(n)){var r;(r=CodeMirror.findModeByMIME(n))&&(r.mode,n)}else n;var a=document.createElement("a");a.setAttribute("href","data:"+n+";charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}$("#change").click(function(){var e,t,o,n=modeInput.value;if(e=/.+\.([^.]+)$/.exec(n))(r=CodeMirror.findModeByExtension(e[1]))&&(t=r.mode,o=r.mime);else if(/\//.test(n)){var r;(r=CodeMirror.findModeByMIME(n))&&(t=r.mode,o=n)}else t=o=n;t?(editor.setOption("mode",o),CodeMirror.autoLoadMode(editor,t),$("#output").append("$root "+o+" > \n"),showEnd($("#output"))):alert("Please change file extension to correct one. "+n+" is invalid.")}),$("#backpanel").click(function(){$("#build").toggle()}),$("#clear").click(function(){$("#output").html("$root clear > Cleared\n")}),$("#run").click(function(){t(),o(),setTimeout(function(){n(),showEnd($("#output"))},1e3)}),shortcut.add("F12",function(){t(),o(),setTimeout(function(){n(),showEnd($("#output"))},1e3)}),shortcut.add("F9",function(){$("#build").toggle()}),shortcut.add("CTRL+S",function(){var e=editor.getValue();r($("#mode").val(),e)}),$("#download").click(function(){var e=editor.getValue();r($("#mode").val(),e)}),window.addEventListener("beforeunload",function(e){e.returnValue="Do you want to leave?"})});